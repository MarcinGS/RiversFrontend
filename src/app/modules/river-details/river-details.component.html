<mat-card>
    <div fxLayout="row">
        <div fxFlex="20">
            <div>
                <!-- zacznie działać po dodaniu relacji -->
                <img *ngIf="!river?.image" mat-card-md-image src="/assets/image-placeholder.png">
                <img *ngIf="river?.image" mat-card-md-image src="{{'/api/data/riverImage/'+river?.image}}">
            </div>
        </div>
        <div fxFlex="80">
            <mat-tab-group>
                <mat-tab label="Lokalizacja">
                    <div>
                        <mat-card-header>
                            <div fxLayout="row" fxFlex>
                                <div fxFlex="25">
                                    <mat-card-subtitle>Nazwa rzeki</mat-card-subtitle>
                                    <mat-card-title>{{river?.riverName}}</mat-card-title>
                                </div>
                                <div fxFlex="25">
                                    <mat-card-subtitle>Id stacji</mat-card-subtitle>
                                    <mat-card-title>{{river?.stationId}}</mat-card-title>
                                </div>
                                <div fxFlex="25">
                                    <mat-card-subtitle>Nazwa stacji</mat-card-subtitle>
                                    <mat-card-title>{{river?.stationName}}</mat-card-title>
                                </div>
                                <div fxFlex="25">
                                    <mat-card-subtitle>Województwo</mat-card-subtitle>
                                    <mat-card-title>{{river?.region | titlecase}}</mat-card-title>
                                </div>
                            </div>
                        </mat-card-header>
                    </div>
                </mat-tab>
                <mat-tab label="Pomiary">
                    <div>
                        <mat-card-content>
                            <div fxLayout="row">
                                <div fxFlex>
                                    <h4>Poziom wody:</h4>
                                    <mat-card-title>{{river?.waterLevel}}</mat-card-title>
                                    <mat-card-subtitle>Data: {{river?.waterDate | date}}</mat-card-subtitle>
                                </div>
                                <div fxFlex>
                                    <h4>Temperatura wody:</h4>
                                    <mat-card-title>{{river?.waterTemp}}</mat-card-title>
                                    <mat-card-subtitle>Data: {{river?.tempDate | date}}</mat-card-subtitle>
                                </div>
                                <div fxFlex>
                                    <h4>Zjawisko lodowe:</h4>
                                    <mat-card-title>{{river?.iceLevel}}</mat-card-title>
                                    <mat-card-subtitle>Data: {{river?.iceDate | date}}</mat-card-subtitle>
                                </div>
                                <div fxFlex>
                                    <h4>Zjawisko zamarzania:</h4>
                                    <mat-card-title>{{river?.growLevel}}</mat-card-title>
                                    <mat-card-subtitle>Data: {{river?.growDate | date}}</mat-card-subtitle>
                                </div>
                            </div>
                        </mat-card-content>
                    </div>
                </mat-tab>
                <mat-tab label="Notatki">
                    <div>
                        <h4>Notatki</h4>
                        <div>
                            <div *ngFor="let note of river?.note" class="note">
                                <div><b>Temat: </b>{{note.topic}}</div>
                                <div><b>Treść:</b><br>{{note.content}}</div>
                            </div>
                        </div>
                        <form [formGroup]="noteForm" (submit)="submit()" fxLayout="column">
                            <mat-form-field appearance="fill">
                                <mat-label>Temat</mat-label>
                                <input matInput placeholder="Podaj temat notatki" formControlName="topic">
                                <div *ngIf="topic?.invalid && (topic?.dirty || topic?.touched)" class="errorMessage">
                                    <div *ngIf="topic?.errors?.['required']">
                                        Temat jest wymagany
                                    </div>
                                    <div *ngIf="topic?.errors?.['minlength']">
                                        Temat musi mieć przynajmniej 2 znaki
                                    </div>
                                </div>
                            </mat-form-field>
                            <mat-form-field appearance="fill">
                                <mat-label>Twoja notatka</mat-label>
                                <textarea matInput rows="10" placeholder="Treść notatki"
                                    formControlName="content"></textarea>
                                <div *ngIf="content?.invalid && (content?.dirty || content?.touched)"
                                    class="errorMessage">
                                    <div *ngIf="content?.errors?.['required']">
                                        Notatka jest wymagany
                                    </div>
                                    <div *ngIf="content?.errors?.['minlength']">
                                        Notatka musi mieć przynajmniej 4 znaki
                                    </div>
                                </div>
                            </mat-form-field>
                            <div fxLayout="colum" fxFlexAlign="end" fxLayoutGap="10">
                                <button mat-flat-button color="primary" [disabled]="!noteForm.valid">Zapisz</button>
                            </div>
                        </form>
                    </div>

                </mat-tab>
            </mat-tab-group>
        </div>
    </div>
</mat-card>
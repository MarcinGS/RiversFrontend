<div>
    <h4>Notatki</h4>
    <mat-card *ngFor="let note of note" class="note">
        <mat-card-header>
          <mat-card-title>Temat: {{note.topic}}</mat-card-title>
          <mat-card-subtitle>{{note.content}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-actions align="end">
          <button mat-stroked-button color="warn" (click)="deleteNote(note.id)">Usuń</button>
        </mat-card-actions>
      </mat-card>
   
    <form [formGroup]="noteForm" (submit)="submit()" fxLayout="column">
        <mat-form-field appearance="fill">
            <mat-label>Temat</mat-label>
            <input matInput placeholder="Podaj temat notatki" formControlName="topic">
            <div *ngIf="topic?.invalid && (topic?.dirty || topic?.touched)" class="errorMessage">
                <div *ngIf="topic?.errors?.['required']">
                    Temat jest wymagany
                </div>
                <div *ngIf="topic?.errors?.['minlength']">
                    Temat musi mieć przynajmniej 2 znaki
                </div>
            </div>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Twoja notatka</mat-label>
            <textarea matInput rows="10" placeholder="Treść notatki" formControlName="content"></textarea>
            <div *ngIf="content?.invalid && (content?.dirty || content?.touched)" class="errorMessage">
                <div *ngIf="content?.errors?.['required']">
                    Notatka jest wymagany
                </div>
                <div *ngIf="content?.errors?.['minlength']">
                    Notatka musi mieć przynajmniej 4 znaki
                </div>
            </div>
        </mat-form-field>
        <div fxLayout="colum" fxFlexAlign="end" fxLayoutGap="10">
            <button mat-flat-button color="primary" [disabled]="!noteForm.valid">Zapisz</button>
        </div>
    </form>
</div> 